# ============================================================================
# HYBRID MULTIMODAL RETRIEVAL SYSTEM - DEPENDENCIES
# ============================================================================
# Last Updated: November 12, 2025
# Current Phase: Phase 4 (Graph-Based Retrieval) - Day 3-4 Implementation
# Python Version: 3.10+
# Status: âœ… ACTIVE packages | ðŸ“‹ PLANNED for future phases
# ============================================================================

# ----------------------------------------------------------------------------
# CORE DEPENDENCIES âœ… ACTIVE
# ----------------------------------------------------------------------------
pandas>=2.0.0,<3.0.0    # Data manipulation and DataFrame operations
numpy>=1.24.0,<2.0.0    # Numerical operations and array handling (1.24.x for Py3.10)
matplotlib>=3.7.0,<4.0.0  # Plotting and visualization
seaborn>=0.12.0,<1.0.0  # Statistical visualizations
Pillow>=10.0.0,<11.0.0  # Image loading and processing
jupyter>=1.0.0          # Interactive notebooks
pyyaml>=6.0,<7.0        # Configuration file parsing

# ----------------------------------------------------------------------------
# DEEP LEARNING FRAMEWORK âœ… ACTIVE
# ----------------------------------------------------------------------------
torch>=2.0.0,<2.3.0     # PyTorch - Deep learning framework (REQUIRED, Py3.10 compatible)
torchvision>=0.15.0,<0.18.0  # Computer vision utilities
torchaudio>=2.0.0,<2.3.0     # Audio processing (for completeness)

# Note: Install PyTorch with CUDA support for GPU acceleration:
#   pip install torch==2.2.0 torchvision==0.17.0 torchaudio==2.2.0 --index-url https://download.pytorch.org/whl/cu118
# For CPU-only (development/testing):
#   pip install torch==2.2.0 torchvision==0.17.0 torchaudio==2.2.0

# ----------------------------------------------------------------------------
# PHASE 2: BI-ENCODER RETRIEVAL âœ… COMPLETE & ACTIVE
# ----------------------------------------------------------------------------
# Status: Fully implemented and tested (Oct 24, 2025)
# Performance: ~11ms search latency, 31,783 images indexed
# ----------------------------------------------------------------------------
open-clip-torch>=2.20.0,<3.0.0  # CLIP model for bi-encoder embeddings (REQUIRED)
ftfy>=6.1.0,<7.0.0      # Text cleaning for CLIP
regex>=2023.0.0         # Regular expressions for text processing
faiss-cpu>=1.7.4,<2.0.0  # Fast similarity search (REQUIRED for Py3.10)
                        # Note: Use faiss-gpu for GPU-accelerated search
                        # Current: Using CPU version for compatibility

# ----------------------------------------------------------------------------
# TRANSFORMERS & NLP âœ… ACTIVE
# ----------------------------------------------------------------------------
transformers>=4.30.0,<5.0.0  # Hugging Face transformers library (BLIP-2 reranker)
sentence-transformers>=2.2.0,<3.0.0  # Sentence embeddings (utility)

# ----------------------------------------------------------------------------
# PHASE 3: CROSS-ENCODER RE-RANKING âœ… COMPLETE & ACTIVE
# ----------------------------------------------------------------------------
# Status: Completed (Oct 28 - Nov 2025)
# Purpose: BLIP-2 cross-encoder re-ranking for improved retrieval accuracy
# Implementation: Using transformers library for BLIP-2 model
# ----------------------------------------------------------------------------
accelerate>=0.20.0,<1.0.0  # Optimization for large models (BLIP-2 support)

# Note: BLIP-2 is loaded via transformers library (already listed above)
# Model: Salesforce/blip2-opt-2.7b or blip2-flan-t5-xl
# No separate salesforce-lavis package needed

# ----------------------------------------------------------------------------
# PHASE 4: KNOWLEDGE GRAPH âœ… ACTIVE (Day 3-4 Implementation)
# ----------------------------------------------------------------------------
# Status: In Progress - PyG containers, serialization, and graph building (Nov 12, 2025)
# Purpose: Graph-based context retrieval with PyTorch Geometric
# Implementation: HeteroData containers, semantic + co-occurrence edges, atomic I/O
# ----------------------------------------------------------------------------
torch-geometric>=2.3.0,<2.5.0  # Graph neural networks (REQUIRED for Phase 4, Py3.10)
torch-scatter>=2.1.0,<3.0.0    # Scatter operations for PyG (REQUIRED, Py3.10)
torch-sparse>=0.6.0,<0.7.0     # Sparse tensor operations for PyG (REQUIRED, Py3.10)

# Note: Install PyG with proper torch version compatibility:
#   pip install torch-geometric torch-scatter torch-sparse -f https://data.pyg.org/whl/torch-2.2.0+cu118.html
# For CPU-only:
#   pip install torch-geometric torch-scatter torch-sparse -f https://data.pyg.org/whl/torch-2.2.0+cpu.html

# ----------------------------------------------------------------------------
# PHASE 5: MULTIMODAL GENERATION ðŸ“‹ PLANNED
# ----------------------------------------------------------------------------
# Status: Not yet started (planned for Dec 22 - Feb 8, 2026)
# Purpose: LLM-based answer generation from retrieved context
# ----------------------------------------------------------------------------
# llava                   # LLaVA multimodal LLM (option 1)
# qwen-vl                 # Qwen-VL multimodal LLM (option 2)
                          # Uncomment when starting Phase 5

# ----------------------------------------------------------------------------
# UTILITIES âœ… ACTIVE
# ----------------------------------------------------------------------------
tqdm>=4.65.0,<5.0.0     # Progress bars for long-running operations
scikit-learn>=1.3.0,<2.0.0  # Machine learning utilities
requests>=2.31.0,<3.0.0  # HTTP requests
wget>=3.2               # File downloading (optional)

# ----------------------------------------------------------------------------
# DEVELOPMENT TOOLS âœ… ACTIVE
# ----------------------------------------------------------------------------
ipykernel>=6.25.0,<7.0.0  # Jupyter kernel
ipywidgets>=8.0.0,<9.0.0  # Interactive widgets for notebooks
pytest>=7.3.0,<8.0.0    # Unit testing framework
black>=23.3.0,<24.0.0   # Code formatter (optional)
flake8>=6.0.0,<7.0.0    # Linting (optional)

# ----------------------------------------------------------------------------
# EXPERIMENT TRACKING (OPTIONAL)
# ----------------------------------------------------------------------------
tensorboard>=2.13.0,<3.0.0  # TensorBoard for visualization (optional)
# wandb>=0.15.0         # Weights & Biases (optional, uncomment if needed)

# ============================================================================
# INSTALLATION INSTRUCTIONS
# ============================================================================
# 
# IMPORTANT: Python 3.10+ Required
# 
# 1. Create virtual environment (Python 3.10):
#    python -m venv venv
#    .\venv\Scripts\Activate.ps1  (Windows PowerShell)
#    source venv/bin/activate     (Linux/Mac)
#
# 2. Upgrade pip:
#    python -m pip install --upgrade pip
#
# 3. Install PyTorch with CUDA (for GPU - recommended):
#    pip install torch==2.2.0 torchvision==0.17.0 torchaudio==2.2.0 --index-url https://download.pytorch.org/whl/cu118
#    
#    OR for CPU-only (testing/development):
#    pip install torch==2.2.0 torchvision==0.17.0 torchaudio==2.2.0
#
# 4. Install PyTorch Geometric (Phase 4 required):
#    For CUDA 11.8:
#    pip install torch-geometric torch-scatter torch-sparse -f https://data.pyg.org/whl/torch-2.2.0+cu118.html
#    
#    For CPU-only:
#    pip install torch-geometric torch-scatter torch-sparse -f https://data.pyg.org/whl/torch-2.2.0+cpu.html
#
# 5. Install all other dependencies:
#    pip install -r requirements.txt
#
# 6. Install project in development mode:
#    pip install -e .
#
# ============================================================================
# CURRENT PACKAGE USAGE SUMMARY (November 12, 2025)
# ============================================================================
# âœ… ACTIVE Packages (Phases 1-4): 22 core packages
#    
#    Core Libraries:
#    - pandas, numpy, matplotlib, seaborn, Pillow, jupyter, pyyaml
#    
#    PyTorch Stack:
#    - torch, torchvision, torchaudio
#    
#    Phase 2 (Bi-Encoder):
#    - open-clip-torch, ftfy, regex, faiss-cpu
#    
#    Phase 3 (Cross-Encoder):
#    - transformers (BLIP-2), sentence-transformers, accelerate
#    
#    Phase 4 (Graph-Based):
#    - torch-geometric, torch-scatter, torch-sparse
#    
#    Utilities:
#    - tqdm, scikit-learn, requests, wget
#    
#    Development:
#    - ipykernel, ipywidgets, pytest, black, flake8, tensorboard
#
# ðŸ“‹ PLANNED (Phase 5): Multimodal Generation
#    - llava or qwen-vl (multimodal LLM for answer generation)
#    - Estimated start: Dec 22, 2025 - Feb 8, 2026
# ============================================================================
